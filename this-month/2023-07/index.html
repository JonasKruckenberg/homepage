<!doctype html>

<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Operating System Development in Rust">

    
        <link rel="canonical" href="https://rust-osdev.com/this-month/2023-07/" />
    
    <link href="/css/poole.css" rel="stylesheet">
    <link href="/css/main.css" rel="stylesheet">

    <link rel="alternate" type="application/rss+xml" title="RSS feed for rust-osdev.com" href="https://rust-osdev.com/rss.xml" />

    <title>This Month in Rust OSDev: July 2023 | Rust OSDev</title>
</head>

<body>
    <div class="wrap">
        <div class="masthead">
          <div class="container">
            <h3 class="masthead-title">
              <a href="https://rust-osdev.com" title="Home">Rust OSDev</a>
              <small>Operating System Development in Rust</small>
            </h3>
          </div>
        </div>
  
        <div class="container content">
            <main>
    <h1>This Month in Rust OSDev: July 2023</h1>

    <span class="post-authors post-date">Published on <time datetime="2023-08-04">
            Aug 04, 2023
            
        </time>(edited by
        <a href="https://github.com/phil-opp">@phil-opp</a>)</span>

    <p>Welcome to a new issue of <em>&quot;This Month in Rust OSDev&quot;</em>. In these posts, we give a regular overview of notable changes in the Rust operating system development ecosystem.</p>
<span id="continue-reading"></span>
<p>This series is openly developed <a href="https://github.com/rust-osdev/homepage/">on GitHub</a>. Feel free to open pull requests there with content you would like to see in the next issue. If you find some issues on this page, please report them by <a href="https://github.com/rust-osdev/homepage/issues/new">creating an issue</a> or using our <a href="#comment-form"><em>comment form</em></a> at the bottom of this page.</p>
<!--
    This is a draft for the upcoming "This Month in Rust OSDev (July 2023)" post.
    Feel free to create pull requests against the `next` branch to add your
    content here.
    Please take a look at the past posts on https://rust-osdev.com/ to see the
    general structure of these posts.
-->
<h2 id="announcements-news-and-blog-posts">Announcements, News, and Blog Posts</h2>
<p>Here we collect news, blog posts, etc. related to OS development in Rust.</p>
<!--
Please follow this template:

- [Title](https://example.com)
  - (optional) Some additional context
-->
<ul>
<li><a href="https://cliffle.com/blog/lilos-cancel-safety/">Mutex without lock, Queue without push: cancel safety in lilos</a></li>
<li><a href="https://www.reddit.com/r/KaniRustVerifier/comments/14xytrg/kani_0320_has_been_released/">Kani 0.32.0 has been released!</a> (verification tool for unsafe code blocks)</li>
<li><a href="https://www.reddit.com/r/rust/comments/151usd5/bwrap_a_fast_lightweight_embedded/">bwrap: A fast, lightweight, embedded environment-friendly Rust library for wrapping text</a></li>
<li>ESP32 Standard Library Embedded Rust
<ul>
<li><a href="https://apollolabsblog.hashnode.dev/esp32-standard-library-embedded-rust-gpio-control">GPIO Control</a></li>
<li><a href="https://apollolabsblog.hashnode.dev/esp32-standard-library-embedded-rust-uart-communication">UART Communication</a></li>
<li><a href="https://apollolabsblog.hashnode.dev/esp32-standard-library-embedded-rust-i2c-communication">I2C Communication</a></li>
</ul>
</li>
<li><a href="https://docs.rs/allocator-api2/latest/allocator_api2/"><code>allocator_api2</code></a> crate to use Rust's nightly allocator API on stable Rust</li>
</ul>
<h2 id="infrastructure-and-tooling">Infrastructure and Tooling</h2>
<p>In this section, we collect recent updates to <code>rustc</code>, <code>cargo</code>, and other tooling that are relevant to Rust OS development.</p>
<!--
    Please use the following template:

- [Title](https://example.com)
  - (optional) Some additional context
-->
<ul>
<li><a href="https://github.com/rust-lang/compiler-builtins/pull/541">Enable <code>chkstk</code>/<code>alloca</code> intrinsics on <code>x86_64-unknown-uefi</code></a></li>
<li><a href="https://github.com/rust-lang/rust/pull/114004">Add <code>riscv64gc-unknown-hermit</code> target</a></li>
<li><a href="https://github.com/rust-lang/rust/pull/113411">Add <code>x86_64-unikraft-linux-musl</code> target</a></li>
<li><a href="https://github.com/rust-lang/rust/pull/114034">Optimize <code>AtomicBool</code> for target that don't support byte-sized atomics</a></li>
</ul>
<h2 id="rust-osdev-projects"><code>rust-osdev</code> Projects</h2>
<p>In this section, we give an overview of notable changes to the projects hosted under the <a href="https://github.com/rust-osdev/about"><code>rust-osdev</code></a> organization.</p>
<!--
    Please use the following template:

    ### [`repo_name`](https://github.com/rust-osdev/repo_name)
    <span class="maintainers">Maintained by [@maintainer_1](https://github.com/maintainer_1)</span>

    The `repo_name` crate ...<<short introduction>>...

    We merged the following changes this month:
    <<changelog, either in list or text form>>
-->
<h3 id="multiboot2"><a href="https://github.com/rust-osdev/multiboot2"><code>multiboot2</code></a></h3>
<p><span class="maintainers">Maintained by <a href="https://github.com/phip1611">@phip1611</a></span></p>
<p>The <a href="https://crates.io/crates/multiboot2">multiboot2</a> was bumped from <code>0.16.0</code> 
to <code>0.17.0</code>. The new release includes the builder pattern for the MBI builder 
and the ability to use custom memory types in the memory map in addition to 
pre-defined ones. For more info, look <a href="https://docs.rs/multiboot2/0.17.0/multiboot2/struct.MemoryAreaTypeId.html">here</a>.</p>
<h3 id="uefi-rs"><a href="https://github.com/rust-osdev/uefi-rs"><code>uefi-rs</code></a></h3>
<p><span class="maintainers">Maintained by <a href="https://github.com/GabrielMajeri">@GabrielMajeri</a>, <a href="https://github.com/nicholasbishop">@nicholasbishop</a>, and <a href="https://github.com/phip1611">@phip1611</a></span></p>
<p>The <code>uefi-rs</code> crate provides safe and performant wrappers for <a href="https://en.wikipedia.org/wiki/Unified_Extensible_Firmware_Interface">UEFI</a>, the successor to the BIOS. We merged the following PRs this month:</p>
<ul>
<li><a href="https://github.com/rust-osdev/uefi-rs/pull/885">Cargo.lock: Update proc-macro2 to fix nightly CI</a></li>
<li><a href="https://github.com/rust-osdev/uefi-rs/pull/886">Return a SimpleFileSystem from BootServices::get_image_file_system</a></li>
<li><a href="https://github.com/rust-osdev/uefi-rs/pull/887">uefi-raw: Derive Ord, PartialOrd, and Hash for all newtype enums</a></li>
<li><a href="https://github.com/rust-osdev/uefi-rs/pull/888">Add <code>GraphicsOutputProtocol</code> to <code>uefi_raw</code> and use it from <code>uefi</code></a></li>
<li><a href="https://github.com/rust-osdev/uefi-rs/pull/889">uefi: Use uefi_raw's SimplePointerProtocol to implement Pointer</a></li>
<li><a href="https://github.com/rust-osdev/uefi-rs/pull/890">build(deps): bump regex from 1.8.1 to 1.9.0</a></li>
<li><a href="https://github.com/rust-osdev/uefi-rs/pull/891">Fix target_arch name: i386 -&gt; x86</a></li>
<li><a href="https://github.com/rust-osdev/uefi-rs/pull/892">Add some uefi-raw links/badges</a></li>
<li><a href="https://github.com/rust-osdev/uefi-rs/pull/894">Fix a new lint in 1.71</a></li>
<li><a href="https://github.com/rust-osdev/uefi-rs/pull/897">Add raw serial protocol and use it in <code>uefi</code></a></li>
<li><a href="https://github.com/rust-osdev/uefi-rs/pull/895">Add raw disk protocols and use them in <code>uefi</code></a></li>
<li><a href="https://github.com/rust-osdev/uefi-rs/pull/898">uefi: Change try_exists to return FileSystemResult<bool></a></li>
<li><a href="https://github.com/rust-osdev/uefi-rs/pull/900">dependabot: Enable updates for Github Actions</a></li>
<li><a href="https://github.com/rust-osdev/uefi-rs/pull/899">Rework <code>FileSystem::copy</code> to operate on 1MiB chunks</a></li>
<li><a href="https://github.com/rust-osdev/uefi-rs/pull/902">build(deps): bump crate-ci/typos from 1.13.20 to 1.16.1</a></li>
<li><a href="https://github.com/rust-osdev/uefi-rs/pull/903">ci: Add merge_group trigger</a></li>
<li><a href="https://github.com/rust-osdev/uefi-rs/pull/901">build(deps): bump cachix/install-nix-action from 20 to 22</a></li>
<li><a href="https://github.com/rust-osdev/uefi-rs/pull/907">add event to smp</a></li>
</ul>
<p>Thanks to <a href="https://github.com/devsnek">@devsnek</a> for their contribution!</p>
<h3 id="xhci"><a href="https://github.com/rust-osdev/xhci"><code>xhci</code></a></h3>
<p><span class="maintainers">Maintained by <a href="https://github.com/toku-sa-n">@toku-sa-n</a></span></p>
<p>The <code>xhci</code> crate provides types of xHCI structures, such as Registers and TRBs. We merged the following PRs this month:</p>
<ul>
<li><a href="https://github.com/rust-osdev/xhci/pull/156">Switch Clippy runner on CI</a></li>
<li><a href="https://github.com/rust-osdev/xhci/pull/154">Fix wrong calculation of data_buffer_pointer of transfer::Normal</a></li>
<li><a href="https://github.com/rust-osdev/xhci/pull/157">Release 0.9.2</a></li>
</ul>
<p>Thanks to <a href="https://github.com/lemolatoon">@lemolatoon</a> for their contribution!</p>
<h3 id="x86-64"><a href="https://github.com/rust-osdev/x86_64"><code>x86_64</code></a></h3>
<p><span class="maintainers">Maintained by <a href="https://github.com/phil-opp">@phil-opp</a>, <a href="https://github.com/orgs/rust-osdev/people/josephlr">@josephlr</a>, and <a href="https://github.com/orgs/rust-osdev/people/Freax13">@Freax13</a></span></p>
<p>The <code>x86_64</code> crate provides various abstractions for <code>x86_64</code> systems, including wrappers for CPU instructions, access to processor-specific registers, and abstraction types for architecture-specific structures such as page tables and descriptor tables.</p>
<p>We merged the following PR this month:</p>
<ul>
<li><a href="https://github.com/rust-osdev/x86_64/pull/428">Add <code>Descriptor::tss_segment_unchecked</code></a></li>
</ul>
<p>Thanks to <a href="https://github.com/SamZhang3">@SamZhang3</a> for their contribution!</p>
<h3 id="bootloader"><a href="https://github.com/rust-osdev/bootloader"><code>bootloader</code></a></h3>
<p><span class="maintainers">Maintained by <a href="https://github.com/phil-opp">@phil-opp</a></span></p>
<p>The <code>bootloader</code> crate implements a custom Rust-based bootloader for easy loading of 64-bit ELF executables. This month, we released a new patch version to fix the build on the latest nightlies:</p>
<ul>
<li><a href="https://github.com/rust-osdev/bootloader/pull/385">Run <code>cargo update</code> to fix build on nightly</a></li>
<li><a href="https://github.com/rust-osdev/bootloader/pull/386">Release <code>v0.11.4</code></a></li>
</ul>
<h3 id="ovmf-prebuilt"><a href="https://github.com/rust-osdev/ovmf-prebuilt"><code>ovmf-prebuilt</code></a></h3>
<p><span class="maintainers">Maintained by <a href="https://github.com/phil-opp">@phil-opp</a></span></p>
<p>The <code>ovmf-prebuilt</code> project provides pre-built <a href="https://github.com/tianocore/edk2">edk2</a> releases to make it easier to set up OVMF. We merged the following improvement this month:</p>
<ul>
<li><a href="https://github.com/rust-osdev/ovmf-prebuilt/pull/2">Dockerfile: use QemuBuild.py for aarch64 build</a></li>
</ul>
<p>Thanks to <a href="https://github.com/nicholasbishop">@nicholasbishop</a> for their contribution!</p>
<h2 id="other-projects">Other Projects</h2>
<p>In this section, we describe updates to Rust OS projects that are not directly related to the <code>rust-osdev</code> organization. Feel free to <a href="https://github.com/rust-osdev/homepage/pulls">create a pull request</a> with the updates of your OS project for the next post.</p>
<!--
    Please use the following template:

    ### [`owner_name/repo_name`](https://github.com/rust-osdev/owner_name/repo_name)
    <span class="maintainers">(Section written by [@your_github_name](https://github.com/your_github_name))</span>

    ...<<your project updates>>...
-->
<h3 id="sfbdragon-talc"><a href="https://github.com/SFBdragon/talc"><code>SFBdragon/talc</code></a></h3>
<p><span class="maintainers">(Section written by <a href="https://github.com/SFBdragon">@SFBdragon</a>)</span></p>
<p><code>Talc</code> is a recently published, fast, and flexible <code>no-std</code> memory allocator. </p>
<ul>
<li>It's the fastest allocator I've tested as of yet (galloc falls short, buddy_alloc is close but lacks heap efficiency).</li>
<li>It features a OOM-handling component with dynamic arena resizing.</li>
</ul>
<p>By the time you're seeing this, hopefully v2 should be out or coming soon:</p>
<ul>
<li>The OOM handler system has been made more powerful.</li>
<li><code>lock_api</code> is used to allow for custom allocator synchronization.</li>
<li>The internals and API has been improved to pass miri's stacked borrows validation.</li>
<li>You can now move the allocator struct around freely.</li>
<li>And more :3</li>
</ul>
<p>I hope you find it useful!</p>
<h3 id="vinc-moros"><a href="https://github.com/vinc/moros"><code>vinc/moros</code></a></h3>
<p><span class="maintainers">(Section written by <a href="https://github.com/vinc">@vinc</a>)</span></p>
<p><a href="http://moros.cc">MOROS</a> is a text-based hobby operating system targeting computers with a x86-64 architecture and a BIOS.</p>
<p>Since last month's <a href="https://github.com/vinc/moros/releases/tag/v0.10.0">release</a>, I focused on adding new syscalls to interact with <a href="https://github.com/vinc/moros/pull/512">network sockets</a> from userspace. The DNS and HTTP clients are now using the new UDP and TCP sockets.</p>
<p>I also added another syscall to poll multiple handles at the same time, to read from the console and a socket, improving the main network tool that can now be used as a simple chat program.</p>
<p>The VGA driver, the filesystem, and the editor got a few significant <a href="https://github.com/vinc/moros/blob/trunk/CHANGELOG.md">improvements</a> as well, to support downloading and reading larger files.</p>
<h3 id="valibali-cluu"><a href="https://github.com/valibali/cluu"><code>valibali/cluu</code></a></h3>
<p><span class="maintainers">(Section written by <a href="https://github.com/phil-opp">@phil-opp</a>)</span></p>
<p>There is a new project featured in our <a href="https://rust-osdev.com/showcase/">Showcase</a> series:</p>
<ul>
<li><a href="https://rust-osdev.com/showcase/cluu/"><strong>CLUU (Compact Lightweight Unix Utopia)</strong></a> by <a href="https://github.com/valibali">@valibali</a></li>
</ul>
<h2 id="join-us">Join Us?</h2>
<p>Are you interested in Rust-based operating system development? Our <code>rust-osdev</code> organization is always open to new members and new projects. Just let us know if you want to join! A good way for getting in touch is our <a href="https://rust-osdev.zulipchat.com">Zulip chat</a>.</p>


    <h2 id="comment-form">Comments</h2>

    <script src="https://utteranc.es/client.js"
        repo="rust-osdev/homepage"
        issue-term="url"
        theme="github-light"
        crossorigin="anonymous"
        async>
    </script>
</main>

            <footer class="footer">
                <hr>
                <small>Join us on <a href="https://rust-osdev.zulipchat.com">Zulip.</a><br>
                    &copy; <time datetime="2020">2020</time>-<time datetime="2022">2022</time>. All rights reserved.
                    <a href="https://rust-osdev.com/contact/">Contact</a>
                </small>
            </footer>
        </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>
</body>

</html>
